{"version":3,"sources":["components/Person.js","components/Notification.js","components/Filter.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Person","props","person","name","number","onClick","onSubmit","Notification","message","charAt","className","Filter","onChange","value","PersonForm","valueName","onChangeName","valueNumber","onChangeNumber","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","notification","setNotification","useEffect","personService","allPersons","numbersToDisplay","length","toLowerCase","includes","deletePerson","personToDelete","find","p","window","confirm","setTimeout","updateNumber","personToBeUpdated","changedPerson","Number","updatedPerson","concat","catch","error","event","target","preventDefault","some","newPerson","map","i","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74bd1eb5.chunk.js","sourcesContent":["import React from 'react'\r\nconst Person = (props) => {\r\n    return (\r\n\r\n                    <tr>\r\n                    <td>\r\n                        {props.person.name} \r\n                    </td>\r\n                    <td>{\r\n                        props.person.number} \r\n                    </td>\r\n                    <td>\r\n                        <button onClick={props.onSubmit}>delete</button>\r\n                    </td>\r\n                    </tr>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null){\r\n        return null;\r\n    } else if (message.charAt(0) === 'A' || message.charAt(0) === 'C'){\r\n        return (\r\n        <div className=\"add\">\r\n             {message}\r\n        </div> \r\n        )\r\n    } else {\r\n    return (\r\n        <div className=\"delete\">\r\n            {message}\r\n        </div>\r\n    )\r\n    }\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Filter = ({ onChange, value }) => {\r\n    return (\r\n        <div>\r\n        filter shown with: <input value={value} onChange={onChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <div>\r\n            <form onSubmit={props.onSubmit}>\r\n                <table>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td>\r\n                        name: <input value={props.valueName} onChange={props.onChangeName} />\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                        number: <input value={props.valueNumber} onChange={props.onChangeNumber} />\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n                </table>\r\n                <button type=\"submit\">add</button>            \r\n            </form>\r\n        </div>\r\n    \r\n    )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = 'https://powerful-river-89202.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n  \r\n}\r\nconst deleteEntry = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll,create,update, deleteEntry }","import React, { useState, useEffect } from 'react'\r\n//Components\r\nimport Person from './components/Person'\r\nimport Notification from './components/Notification'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\n//Service\r\nimport personService from './services/persons'\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [notification, setNotification] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(allPersons => {\r\n        setPersons(allPersons)\r\n      })\r\n  }, [])\r\n\r\n  const numbersToDisplay = (filter.length === 0)\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n  const displayAll = () => numbersToDisplay.map((person, i) => {\r\n    return (\r\n      <Person\r\n        key={i}\r\n        person={person}\r\n        onSubmit={() => deletePerson(person.id)}\r\n        />      \r\n    )\r\n  })\r\n\r\n  const addNewPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (persons.some(person => person.name === newName)) {\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        updateNumber(person)\r\n      }\r\n    }\r\n    else {\r\n      personService\r\n        .create(person)\r\n        .then(newPerson => {\r\n          setPersons(persons.concat(newPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotification(`Added ${newPerson.name}`)\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n        })\r\n        .catch(error => {\r\n          setNotification(`${error.response.data.error}`)\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n        })\r\n    }\r\n  } \r\n  const deletePerson = (id) => {\r\n    const personToDelete = persons.find(p => p.id === id)\r\n    if (window.confirm(`Do you want to delete ${personToDelete.name}?`)) {\r\n      personService\r\n        .deleteEntry(id)\r\n        .then(\r\n            setPersons(persons => persons.filter(person => person.id !== id))\r\n          )\r\n          setNotification(`Deleted ${personToDelete.name}`)\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n    }\r\n  }\r\n  const updateNumber = (person) => {\r\n    const personToBeUpdated = persons.find(p => p.name === person.name);\r\n\r\n\r\n    const changedPerson = { \r\n      name: person.name, \r\n      number: Number(person.number),\r\n      id: personToBeUpdated.id\r\n    }\r\n\r\n    personService\r\n      .update(personToBeUpdated.id, changedPerson)\r\n      .then(updatedPerson => {\r\n\r\n        setPersons(persons => persons.filter(p => p.name !== personToBeUpdated.name))\r\n\r\n        setPersons(persons => persons.concat(changedPerson))\r\n      \r\n\r\n        setNotification(`Changed ${changedPerson.name}`)\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 3000)\r\n\r\n      })\r\n      .catch(error => {\r\n        setNotification(`${error.response.data.error}`)\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 3000)\r\n      })\r\n\r\n\r\n    \r\n  }\r\n\r\n  const handleChangeName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleChangeNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleChangeFilter = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n      <Filter onChange={handleChangeFilter} value={filter} />\r\n\r\n      <h2>add a new</h2>\r\n      <PersonForm onSubmit={addNewPerson} valueName={newName} onChangeName={handleChangeName} valueNumber={newNumber} onChangeNumber={handleChangeNumber} />\r\n\r\n\r\n      <h2>Numbers</h2>\r\n      <table>\r\n        <tbody>\r\n        {displayAll()}\r\n\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}