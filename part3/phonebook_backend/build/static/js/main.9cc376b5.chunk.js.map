{"version":3,"sources":["components/Person.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","props","id","person","name","number","onClick","onSubmit","Notification","message","charAt","className","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","notification","setNotification","useEffect","personService","allPersons","numbersToDisplay","length","toLowerCase","includes","deletePerson","personToDelete","find","p","window","confirm","setTimeout","updateNumber","personToBeUpdated","changedPerson","concat","catch","error","value","onChange","event","target","preventDefault","some","newPerson","type","map","i","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9cc376b5.chunk.js","sourcesContent":["import React from 'react'\r\nconst Person = (props) => {\r\n    return (\r\n        <div id={props.person.id}>\r\n             {props.person.name} {props.person.number} <button onClick={props.onSubmit}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    if (message === null){\r\n        return null;\r\n    } else if (message.charAt(0) === 'A' || message.charAt(0) === 'C'){\r\n        return (\r\n        <div className=\"add\">\r\n             {message}\r\n        </div> \r\n        )\r\n    } \r\n    return (\r\n        <div className=\"delete\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n  \r\n}\r\nconst deleteEntry = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll,create,update, deleteEntry }","import React, { useState, useEffect } from 'react'\r\n//Components\r\nimport Person from './components/Person'\r\nimport Notification from './components/Notification'\r\n//Service\r\nimport personService from './services/persons'\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [notification, setNotification] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(allPersons => {\r\n        setPersons(allPersons)\r\n      })\r\n  }, [])\r\n\r\n  const numbersToDisplay = (filter.length === 0)\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n  const displayAll = () => numbersToDisplay.map((person, i) => {\r\n    return (\r\n      <Person\r\n        key={i}\r\n        person={person}\r\n        onSubmit={() => deletePerson(person.id)}\r\n        />      \r\n    )\r\n  })\r\n\r\n  const addNewPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (persons.some(person => person.name === newName)) {\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        updateNumber(person)\r\n      }\r\n    }\r\n    else {\r\n      personService\r\n        .create(person)\r\n        .then(newPerson => {\r\n          setPersons(persons.concat(newPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotification(`Added ${newPerson.name}`)\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n        })\r\n    }\r\n  }\r\n  const deletePerson = (id) => {\r\n    const personToDelete = persons.find(p => p.id === id)\r\n    if (window.confirm(`Do you want to delete ${personToDelete.name}?`)) {\r\n      personService\r\n        .deleteEntry(id)\r\n        .then(\r\n            setPersons(persons => persons.filter(person => person.id !== id))\r\n          )\r\n          setNotification(`Deleted ${personToDelete.name}`)\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 3000)\r\n    }\r\n  }\r\n  const updateNumber = (props) => {\r\n    const personToBeUpdated = persons.find(p => p.name === props.name);\r\n    const changedPerson = { name: personToBeUpdated.name, number: props.number}\r\n\r\n    personService\r\n      .update(personToBeUpdated.id,changedPerson)\r\n      .then(person => {\r\n        setPersons(persons => persons.filter(person => person.id !== personToBeUpdated.id))\r\n        setPersons(persons.concat(changedPerson))\r\n        setNotification(`Changed ${changedPerson.name}`)\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 3000)\r\n      })\r\n      .catch(error => {\r\n        setNotification(`${changedPerson.name} is already removed from server`)\r\n        setTimeout(() => {\r\n          setNotification(null)\r\n        }, 3000)\r\n      })\r\n\r\n    \r\n  }\r\n\r\n  const handleChangeName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleChangeNumber = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleChangeFilter = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={notification} />\r\n      <div>\r\n        filter shown with: <input value={filter} onChange={handleChangeFilter} />\r\n      </div>\r\n      <h2>add a new</h2>\r\n      <form onSubmit={addNewPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleChangeName} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleChangeNumber} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n      <h2>Numbers</h2>\r\n      {displayAll()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}